<div class="container">
    <form [formGroup]="myForm" (ngSubmit)="submitForm()">
        <div>
            <label for="">Name</label>
            <input type="text" formControlName="name" class="form-control">
            <div *ngIf="myForm.get('name')?.invalid && myForm.get('name')?.touched">
                <small class="text-danger" *ngIf="myForm.get('name')?.errors">Enter valid Name</small>
            </div>
        </div>
        <div>
            <label for="">Email</label>
            <input type="text" formControlName="email" class="form-control">
            <div *ngIf="myForm.get('email')?.invalid && myForm.get('email')?.touched">
                <small class="text-danger" *ngIf="myForm.get('email')?.errors && myForm.get('email')?.errors?.['email']">Enter valid Email</small>
            </div>
        </div>
        <div formArrayName="address">
            <div *ngFor="let addres of address.controls; let i= index">
                <div [formGroupName]="i">
                    <div>
                        <label for="">Street</label>
                        <input type="text" formControlName="street">
                    </div>
                    <div>
                        <label for="">City</label>
                        <input type="text" formControlName="city">
                    </div>
                    <button class="btn btn-primary" (click)="removeAddress(i)"> Remove </button>
                </div>

            </div>
        </div>

        <button class="btn btn-primary" (click)="addAddress()">Add Addrees</button>
        <button class="btn btn-primary" [disabled]="myForm.invalid">Submit</button>
    </form>

</div>